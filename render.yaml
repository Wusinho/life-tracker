
databases:
  - name: life-tracker
    databaseName: life-tracker
    user: life-tracker

services:
    - type: web
      name: life-tracker
      env: ruby
      buildCommand: "./bin/render-build.sh"
      startCommand: "bundle exec puma -C config/puma.rb"
      envVars:
          - key: DATABASE_URL
            fromDatabase:
              name: life-tracker
              property: connectionString
          - key: RAILS_MASTER_KEY
            sync: false
    - type: redis
      name: redis
      ipAllowList: []
      plan: free
      maxmemoryPolicy: noeviction
